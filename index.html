<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <title>Cross the Road!</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="game-container">
    <header class="game-header">
      <h1>üêî Cross the Road!</h1>
      <div class="hud">
        <span class="score">Score: <strong id="score">0</strong></span>
        <span class="high-score">Best: <strong id="high-score">0</strong></span>
        <span class="lanes-crossed">Lanes: <strong id="lanes">0</strong></span>
        <span class="lives">Lives: <strong id="lives">3</strong></span>
        <span class="eagle-timer">Eagle: <strong id="eagle-timer">5</strong>s</span>
        <label class="speed-control">
          Speed: <input type="range" id="speed-slider" min="50" max="150" value="100" step="5">
          <span id="speed-value">100%</span>
        </label>
      </div>
    </header>
    <div class="canvas-wrap">
      <canvas id="gameCanvas" width="900" height="640" tabindex="0"></canvas>
      <div id="touch-controls" class="touch-controls" aria-hidden="true">
        <div class="touch-dpad">
          <button type="button" class="touch-btn touch-up" data-key="ArrowUp" aria-label="Up">‚Üë</button>
          <button type="button" class="touch-btn touch-down" data-key="ArrowDown" aria-label="Down">‚Üì</button>
          <button type="button" class="touch-btn touch-left" data-key="ArrowLeft" aria-label="Left">‚Üê</button>
          <button type="button" class="touch-btn touch-right" data-key="ArrowRight" aria-label="Right">‚Üí</button>
        </div>
        <button type="button" class="touch-btn touch-jump" data-key="Space" aria-label="Jump">JUMP</button>
      </div>
    </div>
    <div id="character-select-screen" class="hidden">
      <h2>Choose your character</h2>
      <p class="character-select-intro">Pick a character and colour, then continue.</p>
      <div class="variant-row">
        <span class="variant-label">Colour:</span>
        <button type="button" class="variant-btn" data-variant="default">Default</button>
        <button type="button" class="variant-btn" data-variant="silver" data-unlock="Score 1,000">Silver</button>
        <button type="button" class="variant-btn" data-variant="golden" data-unlock="Score 10,000">Gold</button>
        <button type="button" class="variant-btn" data-variant="rainbow" data-unlock="Score 50,000">Rainbow</button>
      </div>
      <div class="character-grid">
        <button type="button" class="character-option" data-character="chicken" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="chicken"></canvas>
          <span class="character-name">Chicken</span>
        </button>
        <button type="button" class="character-option" data-character="duck" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="duck"></canvas>
          <span class="character-name">Duck</span>
        </button>
        <button type="button" class="character-option" data-character="tiger" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="tiger"></canvas>
          <span class="character-name">Tiger</span>
        </button>
        <button type="button" class="character-option" data-character="cow" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="cow"></canvas>
          <span class="character-name">Cow</span>
        </button>
        <button type="button" class="character-option" data-character="horse" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="horse"></canvas>
          <span class="character-name">Horse</span>
        </button>
        <button type="button" class="character-option" data-character="goat" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="goat"></canvas>
          <span class="character-name">Goat</span>
        </button>
        <button type="button" class="character-option" data-character="stickboy" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="stickboy"></canvas>
          <span class="character-name">Boy stick man</span>
        </button>
        <button type="button" class="character-option" data-character="stickgirl" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="stickgirl"></canvas>
          <span class="character-name">Girl stick man</span>
        </button>
        <button type="button" class="character-option" data-character="stickfat" aria-pressed="false">
          <canvas class="character-preview" width="96" height="96" data-character="stickfat"></canvas>
          <span class="character-name">Fat stick man</span>
        </button>
      </div>
      <button type="button" id="character-continue-btn" class="primary-btn">Continue</button>
    </div>
    <div id="start-screen">
      <h2>Cross the Road!</h2>
      <p>Use <kbd>‚Üë</kbd> <kbd>‚Üì</kbd> <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> or <kbd>W</kbd> <kbd>A</kbd> <kbd>S</kbd> <kbd>D</kbd> to move (or the on-screen pad on iPad/touch devices). Press <kbd>Space</kbd> or <strong>JUMP</strong> to jump over vehicles and crocodiles!</p>
      <p>Start at the <strong>bus station</strong>. Cross roads, railways, and rivers. In the river you can <strong>swim</strong> or stand on logs (you move with the log). Avoid <strong>crocodiles</strong> in the water. Grass and rest areas have <strong>trees</strong> (no collision).</p>
      <p class="warning">‚ö†Ô∏è Move forward (‚Üë up on screen) every 5 seconds or the eagle will take you!</p>
      <p>You have <strong>3 lives</strong>. High score is saved.</p>
      <p>Adjust <strong>Speed</strong> in the HUD (50%‚Äì150%).</p>
      <button id="start-btn">Start Game</button>
    </div>
    <div id="game-over-screen" class="hidden">
      <h2 id="game-over-title">Game Over</h2>
      <p>Final Score: <strong id="final-score">0</strong></p>
      <p id="high-score-msg" class="hidden">üèÜ New high score!</p>
      <p id="game-over-reason"></p>
      <button id="restart-btn">Play Again</button>
    </div>
  </div>
  <script src="audio.js"></script>
  <script src="game.js"></script>
</body>
</html>
